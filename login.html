<!DOCTYPE html>
<html>

<head>
  <title>Login Page</title>
  <link rel="stylesheet" href="login.css" />
</head>

<body>
  <p></p>
  <div id="container">
    <div id="signin">SIGN IN</div>
    <div>
      <form id="form" onsubmit="return checkLogin()">
        <div id="divuser">
          <label id="username" style="font-family: Arial, Helvetica, sans-serif">Username</label>
          <input type="text" class="input" id="userinput" required />
        </div>
        <div id="divpass">
          <label id="password" style="font-family: Arial, Helvetica, sans-serif">Password</label><br />
          <input type="password" class="input" id="passinput" required />
        </div>
        <div id="divsubmit">
          <button type="submit" id="login">SUBMIT</button>
        </div>
      </form>
      <br />
      <label id="signup" style="font-family: Arial, Helvetica, sans-serif">Don't hava an account
        <a href="register.html" style="font-family: Arial, Helvetica, sans-serif">signup</a></label><br /><br />
      <label id="result" style="font-family: Arial, Helvetica, sans-serif"></label>
    </div>
  </div>
</body>

<script>
  function checkLogin() {
    var name = document.getElementById("userinput").value;
    var password = document.getElementById("passinput").value;
    var result = document.getElementById("result");

    fetch("http://localhost:8080/api?name=" + name + "&password=" + password)
      .then((response) => {
        if (response.ok) {
          result.innerHTML = "Login Successful";

          window.location.href = "page1.html";
        } else {
          result.innerHTML = "invalid Credentials";
        }
      })
      .catch((error) => {
        result.innerHTML = error;
      });
    return false;
  }
</script>

</html>